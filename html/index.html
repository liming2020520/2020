<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/header-footer.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/same.css">
    <link rel="stylesheet" href="../css/goodlist.css">
    <script src="../js/database.js"></script>
   

</head>
<body>
    <!-- header -->
    <header>
       <div id="header" class="same header1">
        <div class="header-left">
            <ul>
                <li><a href="">帮助中心</a></li>
                <li><a href="#">收藏</a></li>
                <li><a href="#">360官网</a></li>
            </ul>
        </div>
        <div class="header-center">
            <ul>
                <li><a href="../subPage/signIn.html">登录</a></li>
                <li><a href="../subPage/signUp.html">注册</a></li>
                <li><a href="#">360手机商城</a></li>
                <li class="header-right"></li>
            </ul>
    </header>
    <!-- nav -->
    <nav class="same">
        <div class="navle"></div>
        <div class="navcenter">
            <div class="ncl">领劵中心</div>
            <div class="ncr">社区</div>
        </div>
        <div class="nr1">
            <div class="nr2">
                <input type="text">
                <div class="nr3"></div>
            </div>
        </div>
        <div class="nbottom">
            <a href="#">摄像机</a>
            <a href="#">路由器</a>
            <a href="#">记录仪</a>
            <a href="#">手机</a>
            <a href="#">手表</a>
            <a href="#">湿巾</a>
            <a href="#">扫地机</a>
        </div>
    </nav>
    <!-- list -->
   <div class="same  listhe">
    <div id="list">
        <div class="listheader">
            <a href="#">
                <div class="listba"></div>
                全部分类
            </a>
        </div>
        <ul>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/47.png" alt=""> 智能设备
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/48.png" alt=""> 食品/酒水/茗茶
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/49.png" alt=""> 手机/数码/电脑办公
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/50.png" alt=""> 家用电器
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/51.png" alt=""> 汽车用品
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/55.png" alt=""> 家具/家纺
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/52.png" alt=""> 个护清洁/宠物用品
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/56.png" alt=""> 服饰/箱包/珠宝
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/57.png" alt=""> 玩具
                    </span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span>
                        <img src="../img/58.png" alt=""> 户外运动
                    </span>
                </a>
            </li>
            
        </ul>
    </div>
   </div>
   <!-- banner -->
    <script>
        
        var imgCon,ul,preDot;
        var pos=0,
            x=0,
            bool=false,
            autoBool=false,
            dotList=[],
            imgList=[],
            bnList=[],
            time=260,
            imgSrcList=["../img/4.png","../img/5.png","../img/6.png","../img/7.png"]
            direction="";
        const WIDTH=1520;
        const HEIGHT=530;
        const SPEED=30;
        const LEFT=Symbol();
        const RIGHT=Symbol();
        
        
        init();
      
        function init(){
            var banner=document.getElementById("banner");
            var carousel=ce("div",{
                width:WIDTH+"px",
                height:HEIGHT+"px",
                position:"relative",
                margin:"auto",
                overflow:"hidden"
            });
            createImgCon(carousel);
            createButton(carousel);
            createDotList(carousel);
            document.body.appendChild(carousel);
            changeDot();
            ul.style.left=(WIDTH-ul.offsetWidth)/2+"px";
            setInterval(animation,16);
            carousel.addEventListener("mouseenter",mouseHandler);
            carousel.addEventListener("mouseleave",mouseHandler);
        }

        function mouseHandler(e){
            if(e.type==="mouseenter"){
                autoBool=false;
                time=300;
            }else if(e.type==="mouseleave"){
                autoBool=true;
            }
        }


        function createImgCon(parent){
            imgCon=ce("div",{
                position:"absolute",
                width:2*WIDTH+"px",
                height:HEIGHT+"px",
                left:0
            });
            for(var i=0;i<imgSrcList.length;i++){
                var img=ce("img",{
                    width:WIDTH+"px",
                    height:HEIGHT+"px",
                    float:"left",
                });
                img.src=imgSrcList[i];
                imgList.push(img);
            }
            imgCon.appendChild(imgList[0]);
            parent.appendChild(imgCon);
        }


        function createButton(parent){
            var arr=["left","right"];
            for(var i=0;i<arr.length;i++){
                var img=ce("img",{
                    width:"42px",
                    height:"72px",
                    position:"absolute",
                    top:(HEIGHT-60)/2+"px",                                                                              
                    left:i===0 ? "400px" : "none",
                    right:i===1 ? "150px" : "none"
                });
                img.src=`../img/${arr[i]}.png`;
                parent.appendChild(img);
                bnList.push(img);
                img.addEventListener("click",bnClickHandler);
            }
        }
        
        function createDotList(parent){
             ul=ce("ul",{
                listStyle:"none",
                margin:0,
                padding:0,
                textAlign:"center",
                position:"absolute",
                bottom:"10px"
            });
            for(var i=0;i<imgSrcList.length;i++){
                var dot=ce("li",{
                    border: "2px solid #000",
                    borderRadius:" 10px",
                     display: "inline-block",
                     height: "10px",
                     margin:" 1px 0 1px 15px",
                     opacity: 0.5,
                     overflow: "hidden",
                     verticalalign: "top",
                     width:" 10px",
                    marginLeft:i===0 ? "0px" : "15px"
                });
                dotList.push(dot);
                ul.appendChild(dot);
            }
            // dotList=Array.from(ul.children);
            parent.appendChild(ul);
            ul.addEventListener("click",dotClickHandler);
        }

        function bnClickHandler(e){
            if(bool) return;
            if(e.target.src.includes("left.png")){
                pos--;
                if(pos<0) pos=imgSrcList.length-1;
                direction=RIGHT;
            }else{
                pos++;
                if(pos>imgSrcList.length-1) pos=0;
                direction=LEFT;
            }
            createNextImg();
        }

        function dotClickHandler(e){
            if(bool) return;
            // if(e.target.nodeName!=="LI") return;
            if(e.target.constructor!==HTMLLIElement) return;
            var index=dotList.indexOf(e.target);
            if(index===pos) return;
            direction=index>pos ? LEFT : RIGHT;
            pos=index;
            createNextImg();
        }


        function createNextImg(){
            // console.log(direction,pos,imgList[pos]);
            if(direction===LEFT){
                imgCon.appendChild(imgList[pos]);
                x=0;
            }else if(direction===RIGHT){
                imgCon.insertBefore(imgList[pos],imgCon.firstElementChild);
                imgCon.style.left=-WIDTH+"px";
                x=-WIDTH;
            }
            bool=true;
            changeDot();
        }

        function changeDot(){
            if(preDot){
                preDot.style.backgroundColor="rgba(255,0,0,0)";
            }
            preDot=dotList[pos];
            preDot.style.backgroundColor="rgba(255,255,255,0.5)";
        }

        function ce(type,style){
            var elem=document.createElement(type);
  
            Object.assign(elem.style,style);
            return elem;
        }

        function animation(){
            imgConMove();
            autoPlay();
        }

       
        function imgConMove(){
            if(!bool) return;
            if(direction===LEFT){
                x-=SPEED;
                if(x<=-WIDTH){
                    imgCon.firstElementChild.remove();
                    x=0;
                    bool=false;
                }
                imgCon.style.left=x+"px";
              
            }else if(direction===RIGHT){
                x+=SPEED;
                if(x>=0){
                    bool=false;
                    x=0;
                    imgCon.lastElementChild.remove();
                }
                imgCon.style.left=x+"px";
            }
        }


        function autoPlay(){
            if(!autoBool) return;
            time--;
            if(time>0)return;
            time=300;
            var evt=new MouseEvent("click");
            bnList[1].dispatchEvent(evt);
        }
    </script>
    <!-- main1 -->
    <div id="main">
        <div id="main1">
            <h2>热门活动</h2>
            <div class="main1-wai">
                <div class="main1-box">
                    <a href="#"><img src="../img/8.png" alt=""></a>
                    <a href="#"><img src="../img/9.png" alt=""></a>
                    <a href="#"><img src="../img/10.png" alt=""></a>
                    <a class="no-left" href="#"><img src="../img/11.png" alt=""></a>
                </div>
            </div>
        </div>
        <div class="main-banner">
            <a href="#"></a>
        </div>
        <div id="main1">
            <h2>新品推荐</h2>
            <div class="main1-wai">
                <div class="main1-box">
                    <a href="#"><img src="../img/18.png" alt=""></a>
                    <a href="#"><img src="../img/19.png" alt=""></a>
                    <a href="#"><img src="../img/20.png" alt=""></a>
                    <a class="no-left" href="#"><img src="../img/21.png" alt=""></a>
                </div>
            </div>
        </div>
        <div class="main-banner1">
            <a href="#"></a>
        </div>
        <div class="shop1 same">
            <div class="shop1-he">
                <h2>家庭安防</h2>
                <a href="#">全部 >></a>
        </div>
        <div id="goods">
            <a class="goodbiga" href="#"><img class="bigimg" src="../img/23.png" alt=""></a>
        </div>
        <script>
        init();
        function init(){
            for(var i=0;i<goodsList.length;i++){
                createGoods(goodsList[i]);
            }
    
        }
    
        function createGoods(data){
            var divs=document.getElementById("goods");
            var a=document.createElement("a");
            a.className="goodsCon";
            a.id=data.id;
            a.href="./detailsGoods.html"+"?id="+a.id;
            createIcon(a,data.icon);
            createNewthing(a,data.newthing);
            createTitle(a,data.firstTitle);
            createInfo(a,data.infos);
            createPrice(a,data.price,data.oldPrice);
            divs.appendChild(a);
    
        }
    
        function createNewthing(parent,newts){
            if(newts.trim().length===0) return;
            var div=document.createElement("div");
            div.className="goodsNewthing";
            div.textContent=newts;
            parent.appendChild(div);
        }
    
        function createIcon(parent,iconPath){
            var img=new Image();
            img.src=iconPath;
            img.className="goodImg"
            parent.appendChild(img);
        }
    
        function createTitle(parent,titles){
            var div=document.createElement("div");
            div.textContent=titles;
            div.className="goodtitle";
            parent.appendChild(div);
        }
    
        function createInfo(parent,infos){
            var div=document.createElement("div");
            div.textContent=infos;
            div.className="goodinfo";
            parent.appendChild(div);
        }
    
        function createPrice(parent,price,oldPrice){
            var div=document.createElement("div");
            var span=document.createElement("span");
            var spans=document.createElement("span");
            parent.appendChild(div);
            div.appendChild(span);
            div.appendChild(spans);
            span.textContent=price;
            spans.textContent=oldPrice;
            div.className="goodprice";
            span.className="price";
            spans.className="oldPrice";
    
        }
    
        </script>

    </div>
    </div>
   
    <!-- footer -->
    <footer class="same">
        <div class="f-1">
            <h4>关于商城</h4>
            <p>360商城是奇虎360公司的官方电商平台，主要经营360安全智能设备，以及相关领域消费品。提供最新的360智能设备，最贴心的售后服务，360社区一手评测资讯，享受360安全、安心、放心的购物体验。</p>
            <div class="ff-1">
                <span class="fspan-1">关于我们</span>
                <span class="fspan-2"></span>
                <span class="fspan-3"></span>
            </div>
        </div>
        <ul class="ff-2">
            <h4>售后服务</h4>
            <li>7日无理由退货</li>
            <li>质量问题15日内换货</li>
            <li>保修条款 </li>
            <li>服务流程</li>
            <li>许可协议</li>
            <li>隐私政策 </li>
        </ul>
        <ul class="ff-2">
            <h4>帮助中心</h4>
            <li class="mt-47">用户注册</li>
            <li>会员说明</li>
            <li>登录与密码找回 </li>
            <li>购买指南</li>
            <li>支付方式</li>
            <li>配送与说明 </li>
            <li>招商合作 </li>
        </ul>
        <div class="fcenter">
            <h4>扫码下载APP</h4>
            <img src="../img/45.png" alt="">
        </div>
        <div class="fright">
            <h4>联系我们</h4>
            <p>400-1555-360</p>
            <div>周一至周日 9:00-21:00（仅收市话费）</div>
        </div>
    </footer>
    <!-- last -->
    <div id="last">
        <div class="same">
            <div class="ltop">
                <div class="lt1">
                    <div class="ba11"></div>
                    <div class="cen1">7天无理由退货</div>
                </div>
                <div class="lt1">
                    <div class="ba12"></div>
                    <div class="cen1">15天免费换货</div>
                </div>
                <div class="lt1 lt2">
                    <div class="ba13"></div>
                    <div class="cen1 "> 满99元包邮</div>
                </div>
            </div>
            <div class="lcenter">
                <div class="lc1">©2019-2020 mall.360.cn版权所有</div>
                <div class="lc2">京ICP备08010314号-43 营业执照 京公网安备11000002000006号</div>
                <p>公司名称：北京视觉世界科技有限公司 | 社会统一信用代码：91110105336460203N | 食品经营许可证
                   <br> 公司地址：北京市朝阳区酒仙桥路6号院2号楼1至17层102号内5层501 | 联系方式：400-1555-360</p>
            </div>
        </div>
    </div>
</body>
</html>